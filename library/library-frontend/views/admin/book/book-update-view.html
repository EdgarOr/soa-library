<form id="edit-book-form" class="panel panel-default" enctype="multipart/form-data"  ng-submit="update();">
    <input hidden="true" ng-model="bookToUpdate._id"/>
    <header class="panel-heading form-header">
        <a class="btn btn-default btn-traslucid pull-left" href="#book/list">
            <i class="material-icons">arrow_back</i>
        </a>
        <span>Edit Book Info</span>
        <button class="btn  btn-traslucid btn-default pull-right" type="submit" >
            <i class="material-icons">save</i>
        </button>
        </header>
        <div class="panel-body row">
            <fieldset class="col-sm-6 col-md-8">
                <legend>Book Data</legend>
                <div class="form-group">
                    <div class="col-xs-12  col-md-4">
                        <label for="isbn">ISBN:</label>
                        <input 
                        type="text" 
                        class="form-control" 
                        id="isbn" 
                        name="isbn" 
                        required 
                        ng-model="dataToUpdate.isbn">
                    </div>
                    <div class="col-xs-12 col-md-8">
                        <label for="title">Title:</label>
                        <input 
                        type="text" 
                        class="form-control"
                        id="title" 
                        name="title" 
                        required
                        ng-model="dataToUpdate.title"> 
                    </div>
                    <div class="col-xs-12">
                        <label for="author">Author:</label>
                        <input 
                        type="text" 
                        class="form-control" 
                        id="author" 
                        name="author" 
                        required
                        ng-model="dataToUpdate.author"> 
                    </div>
                    <div class="col-xs-12">
                        <label for="category">Category:</label>
                        <select 
                        id="category-select"
                        class="form-control selectpicker" 
                        name="categories" 
                        data-live-search="true" 
                        title="Choose the book categories"
                        ng-options="option.name for option in categories track by option._id"
                        ng-model="dataToUpdate.categories"
                        required multiple> </select>
                    </div>
                    <div class="col-xs-12">
                        <label for="description">Description:</label>
                        <textarea class="form-control" id="description" name="description" rows="8" ng-model="dataToUpdate.description"></textarea>
                    </div>
                </div>
            </fieldset>
            <fieldset class="col-sm-6 col-md-4">
                <legend>Cover Photo</legend>
                <div class="form-group">
                    <figure> <img id="preview-img" class="img-responsive center-block" ng-src="{{imageFromBackend(dataToUpdate.cover_photo)}}" alt="BookÂ´s cover" width="60%" /> </figure>
                    <br/>
                    <label class="btn btn-default btn-lg btn-block ">
                        <input 
                        id="upload-input" 
                        name="cover" 
                        style="display:none;" 
                        type="file" 
                        accept="image/*"
                        onchange="angular.element(this).scope().showPreviewImg('preview-img', this)"
                        > <span class="glyphicon glyphicon-upload"></span> UPLOAD</label>
                    </div>
                </fieldset>
            </div>
        </form>


<div ng-include="'/admin/response-dialog-view'"></div>