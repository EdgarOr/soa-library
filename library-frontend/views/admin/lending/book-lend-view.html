<form id="new copy-form" class="panel panel-default" ng-submit="registerLending();">
	<header class="panel-heading form-header">
		<a class="btn btn-default btn-traslucid pull-left" ng-href="#book/list">
			<i class="material-icons">arrow_back</i>
		</a>
		<span>Book Lending</span>
		<button class="btn  btn-traslucid btn-default pull-right" type="submit" ng-disabled="!copyAvailable || !userOk">
			<i class="material-icons">done</i>
		</button>
	</header>

	<fieldset class="panel-body container-fluid">
		<legend>Lending data</legend>
		<div class="row">

			<div class="col-xs-10 col-sm-6">
				<div class="form-group">
					<label>Authorization Date</label>
					<input class="form-control" type="date" ng-model="lending.authorizatedAt" disabled="true">
				</div>
			</div>
			<div class="col-xs-10 col-sm-6">
				<div class="form-group">
					<label>Devolution Date</label>
					<input type="date" class="form-control" ng-model="lending.returnAt" required>
				</div>
			</div>
		</div>
	</fieldset>


	<fieldset class="panel-body container-fluid">
		<legend>User Information</legend>
		<div class="row">

			<div class="col-xs-12 col-sm-8">
				<!--
				<div class="row">
					<div class="col-xs-12">
						<div class="alert alert-danger">
							<strong>Notice:</strong> This user has no right to lendings.
						</div>
					</div>
				</div>
				-->
				
					<div class="form-group row">
						<div class="col-xs-8 col-md-4">
							<label>ID</label>
							<input class="form-control" type="text" name="reader" ng-model="userToLend._id" disabled="true" required>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-xs-12 col-md-7">
							<label>User Name</label>
							<input type="text" class="form-control" ng-model="userToLend.completeName" disabled="true">
						</div>
					</div>
				<!--
				<div class="form-group">
					<div class="row">
						<div class="col-xs-6 col-md-4">
							<label>Books Lent</label>
							<input class="form-control" type="text" ng-model="userToLend.borrowedBooks" disabled="true">
						</div>
						<div class="col-xs-6 col-md-4">
							<label>Lendings Expired</label>
							<input type="text" class="form-control" ng-model="userToLend.lendingsExpired" disabled="true">
						</div>
					</div>
				</div>
				-->
			</div>
			<div class="col-xs-12 col-sm-4">
				<figure> <img id="preview-img" class="img-responsive center-block" ng-src="{{imageFromBackend(userToLend.profilePhoto)}}" alt="User profile photo" width="60%" /> </figure>
			</div>
		</div>
	</fieldset>


	<fieldset class="panel-body container-fluid">
		<legend>Book Copy Information</legend>
		<div class="row">
			<div class="col-xs-12 col-sm-8">
					<div class="row" ng-hide="copyAvailable">
						<div class="col-xs-12">
							<div class="alert alert-danger">
								<strong>Notice:</strong> The ID of the copy corresponds to a copy that was lent.
							</div>
						</div>
					</div>

					<div class="form-group row">
						<div class="col-xs-12 col-md-4">
							<label>Copy ID</label>
							<input class="form-control" type="text" ng-model="copyToLend._id" ng-change="changeCopyId();" required>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-xs-12 col-md-4">
							<label>ISBN</label>
							<input class="form-control" type="text" ng-model="copyToLend.book.isbn" disabled="true">
						</div>
						<div class="col-xs-12 col-md-8">
							<label>Title</label>
							<input type="text" class="form-control" ng-model="copyToLend.book.title" disabled="true">
						</div>
					</div>


					<div class="form-group row">
					<div class="col-xs-12 col-md-4">
						<label for="pub-date">Publication Date</label>
						<input type="text" class="form-control" ng-model="copyToLend.publicatedAt" disabled="true"/>
					</div>
					<div class="col-xs-12 col-md-4">
						<label for="edition">Edition</label>
						<select id="edition" name="edition" class="form-control" ng-model="copyToLend.edition" disabled="true">
							<option value="First">First</option>
							<option value="Second">Second</option>
							<option value="Third">Third</option>
							<option value="Fourth">Fourth</option>
							<option value="Fifth">Fifth</option>
							<option value="Sixth">Sixth</option>
							<option value="Seventh">Seventh</option>
							<option value="Eighth">Eighth</option>
							<option value="Ninth">Ninth</option>
							<option value="Tenth">Tenth</option>
						</select>
					</div>
				</div>
				<div class="form-group row">
					<div class="col-xs-12 col-md-4">
						<label for="language">Language</label>
						<select id="language" name="language" class="form-control" ng-model="copyToLend.language" disabled="true">
							<option value="English">English</option>
							<option value="Spanish">Spanish</option>
							<option value="Mandarin">Mandarin</option>
							<option value="Hindi"> Hindi </option>
							<option value="German"> German </option>
							<option value="Russian">Russian</option>
							<option value="Japanese">Japanese</option>
						</select>
					</div>
					<div class="col-xs-12 col-md-4">
						<label for="pages">Pages</label>
						<input id="pages" name="pages" class="form-control" type="number" min="20" value="20" ng-model="copyToLend.pages" disabled="true"/>
					</div>
				</div>
				<div class="form-group row">
					<div class="col-xs-12 col-md-4">
						<label for="status">Status</label>
						<select id="status" name="state" class="form-control" ng-model="copyToLend.state" disabled="true">
							<option value="ok">Ok</option>
							<option value="damaged">Damaged</option>
							<option value="incomplete">Incomplete</option>
						</select>
					</div>
					<div class="col-xs-12 col-md-4">
						<label for="availability">Availability</label>
						<select id="availability" name="availability" class="form-control" disabled="true" ng-model="copyToLend.availability" disabled="true">
							<option selected value="available">Available</option>
							<option value="unavailable">Unavailable</option>
						</select>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-4">
				<figure> <img id="preview-img" class="img-responsive center-block" ng-src="{{imageFromBackend(copyToLend.book.cover_photo)}}" alt="Book cover" width="60%" /> </figure>
			</div>
		</div>

	</fieldset>

</form>

<div ng-include="'/admin/response-dialog-view'"></div>